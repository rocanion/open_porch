= content_for :head do
  = javascript_include_tag "http://maps.google.com/maps/api/js?libraries=geometry&sensor=false"
  = javascript_include_tag 'region_editor'

  :javascript
    $(document).ready(function() {
      $('#map_canvas').RegionEditor({
        update_url: '#{bulk_update_admin_areas_path}',
        create_url: '#{admin_areas_path}',
        map_style: 'width:100%;height:500px', 
        center: {
          lat: #{@areas.first.center.x}, 
          lng: #{@areas.first.center.y}
        }, 
        regions: #{@areas.collect(&:to_a).to_json}, 
        selected_region_id: #{@areas.first.id}
      });
    });


#map_canvas
  .region_details

%h3 Move regions:
%p 
  %strong 1. Click on a region to select it
  %br/
  %strong 2. Drag the markers to change the shape of a region
  %br/
  %strong 3. To add a new point to a region: 
  Right click on the map to add a new point to the selected region
  %br/
  %strong 4. To delete a point from a region:
  SHIFT + Click on a marker to delete it
  
%h3 Create new regions:
%p 
  %strong 1. Click the 'New region' button
  %br/
  %strong 2. Click on the map to add pints to the region
  %br/
  %strong 3. When you're done close the region by clicking on the first marker

