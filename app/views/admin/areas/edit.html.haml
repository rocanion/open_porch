%h1 Edit Area

- if @area.border.present?
  = content_for :head do
    = javascript_include_tag "http://maps.google.com/maps/api/js?sensor=false"
  
  :javascript
    function initialize() {
      var latlng = new google.maps.LatLng(#{@area.center.x}, #{@area.center.y});
      var myOptions = {
        zoom: 10,
        center: latlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        scaleControl: true
      };
      var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    
      var marker = new google.maps.Marker({
          position: latlng, 
          map: map, 
          title:"You are here!"
      });
      
      #{draw_areas([@area])}
    }

  = content_for :doc_ready do
    initialize();

%h1 Areas

#map_canvas{:style => 'width:50%; height:500px'}

= formatted_form_for @area, :url => [:admin, @area] do |f|
  = render :partial => 'form', :locals => {:f => f}